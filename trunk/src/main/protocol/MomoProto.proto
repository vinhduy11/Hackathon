package com.mservice.momo.msg;

//option optimize_for = CODE_SIZE;
option optimize_for = LITE_RUNTIME;

enum MsgType {
    ACK = 1;
    ERROR = 2;
    SEND_SMS = 3;

    HELLO = 1001;
    HELLO_REPLY = 1002;
    GET_OTP = 1003;
    GET_OTP_REPLY = 1004;

    VERIFY_OTP = 1005;
    VERIFY_OTP_REPLY = 1006;

    LOGIN = 1007;
    LOGIN_REPLY = 1008;

    REGISTER = 1009;
    REGISTER_REPLY = 1010;

    USER_INFO_RECOVERY_PIN = 1011;
    USER_INFO_RECOVERY_PIN_REPLY = 1012;

    GET_BILL_INFO = 1013;
    GET_BILL_INFO_REPLY = 1014;

    DEVICE_INFO = 1015;
    DEVICE_INFO_REPLY = 1016;

    CHANGE_PIN = 1017;
    CHANGE_PIN_REPLY = 1018;

    BILLPAY_GET_ALL = 1019;
    BILLPAY_GET_ALL_REPLY = 1020;

    PHONE_EXIST = 1021;
    PHONE_EXIST_REPLY = 1022;

    LOG_OUT = 1023;
    LOG_OUT_REPLY = 1024;

    CHECK_MOMO_AGENT = 1025;
    CHECK_MOMO_AGENT_REPLY = 1026;

    RECOVERY_NEW_PIN = 1027;
    RECOVERY_NEW_PIN_REPLY = 1028;

    WHO_IS_MOMOER = 1029;
    WHO_IS_MOMOER_REPLY = 1030;

    VIEW_PAYMENT_HISTORY_BY_BILL_ID = 1031;
    VIEW_PAYMENT_HISTORY_BY_BILL_ID_REPLY = 1032;

    BILL_SYNC_REPLY = 1033;

    GET_ACCESS_HISTORY = 1034;
    GET_ACCESS_HISTORY_REPLY = 1035;

    SESSION_EXPIRED_REPLY = 1036;

    UPDATE_AGENT_INFO = 1037;
    BILL_SYNC = 1038;

    TRANS_REPLY = 1059;

    GET_STORES_AROUND = 1060;

    GET_STORES_AROUND_REPLY = 1061;

    BANK_NET_TO_MOMO_REPLY = 1063;

    MONEY_REQUEST = 1066;

    MONEY_REQUEST_REPLY = 1067;

    BROADCAST = 1068;

    TRAN_ACK = 1069;

    TRANS_REQUEST = 1070;

    TRAN_SYNC = 1071;

    TRAN_SYNC_REPLY = 1072;

    TRAN_RECEIVER = 1073;

    STORE_LOCATION_SYNC = 1074;
    STORE_LOCATION_SYNC_REPLY = 1075;

    //core used this one to send changed location info to server
    //server send this one to client when client connect to server
    STORE_LOCATION = 1076;

    //for transfer app
    TRANSFER_REQUEST = 1077;
    BANK_NET_TO_MOMO = 1078;

    //add card
    CARD_ADD_OR_UPDATE = 1079;
    CARD_ADD_OR_UPDATE_REPLY = 1080;

    CARD_SYNC = 1081;
    CARD_SYNC_REPLY = 1082;

    TICKET_INFO_REPLY = 1083;

    AGENT_MODIFY = 1084;
    AGENT_MODIFY_REPLY = 1085;

    AVATAR_UPLOAD = 1086;
    AVATAR_UPLOAD_REPLY = 1087;

    //LoanCountLimit
    ECHO = 1090;
    ECHO_REPLY = 1091;
    NEW_USER = 1092;

    TRAN_STATISTIC_PER_DAY = 1093;
    TRAN_STATISTIC_PER_DAY_REPLY = 1094;

    GET_FEE = 1095;
    GET_FEE_REPLY = 1096;

    NO_MORE_BILLS = 1099; // reply this message to client when syns bill competed.

    REMOVE_SAVED_BILL = 1100;
    REMOVE_SAVED_BILL_REPLY = 1101;

    TRAN_DELETE = 1102;
    TRAN_DELETE_REPLY = 1103;

    // notification
    NOTIFICATION_SYNC = 1104;
    NOTIFICATION_SYNC_REPLY = 1105;
    NOTIFICATION_SYNC_FINISH = 1106;


    NOTIFICATION_NEW = 1107;
    NOTIFICATION_RECEIVED = 1108;

    TRAN_SYNC_FINISH = 1109;

    UPDATE_NOTIFICATIONS_STATUS = 1110;
    UPDATE_NOTIFICATIONS_STATUS_REPLY = 1111;

    GET_BANK_OF_BANKNET = 1112;
    GET_BANK_OF_BANKNET_REPLY = 1113;

    //su dung de thanh toan nhieu bill khi cho nguon la banknet
    BANKNET_VERIFY_OTP = 1114;
    BANKNET_VERIFY_OTP_REPLY = 1115;

    CHECK_TRAN_STATUS = 1116;
    CHECK_TRAN_STATUS_REPLY = 1117;

    GET_DYNAMIC_CONFIG = 1118;
    GET_DYNAMIC_CONFIG_REPLY = 1119;

    CREATE_ORDER_123PHIM = 1120;
    CREATE_ORDER_123PHIM_REPLY = 1121;

    GET_MIN_MAX_TRAN = 1122;
    GET_MIN_MAX_TRAN_REPLY = 1123;

    //for promotion
    GET_PROMOTION = 1124;
    GET_PROMOTION_REPLY = 1125;

    GET_PROMOTION_DETAIL = 1126;
    GET_PROMOTION_DETAIL_REPLY = 1127;

    GET_SMARTLINK_URL = 1128;
    GET_SMARTLINK_URL_REPLY = 1129;

    INVITE_STATISTIC = 1130;
    INVITE_STATISTIC_REPLY = 1131;

    GET_SERVICE = 1132;
    GET_SERVICE_REPLY = 1133;

    GET_SERVICE_LAYOUT = 1134;
    GET_SERVICE_LAYOUT_REPLY = 1135;

    WHOLE_SYSTEM_PAUSED = 1136;

    //phuc vu cho ios lay danh sach thong tin
    GET_NOTIFICAITON = 1137;
    GET_NOTIFICATION_REPLY = 1138;

    // lay danh sach nhung dich vu da thay doi ke tu thoi diem sau cung, tra ve 1 list serviceitem
    GET_SERVICE_BY_LAST_TIME = 1139;

    // request lay thong tin cho 1 dich vu
    GET_SERVICE_BY_SERVICE_ID = 1140;

    // ket qua tra ve cua thong tin cua 1 dich vu. ket qua tra ve la 1 serviceitem
    GET_SERVICE_BY_SERVICE_ID_REPLY = 1141;

    GET_PROMO = 1142; // body GetPromo
    GET_PROMO_REPLY = 1143; // body standardReply

    //client will inform received noti or tran list will be implemented later

    GET_STORE_RATE = 1144;
    GET_STORE_RATE_REPLY = 1145;

    GET_STORE_COMMENT_PAGE = 1146;
    GET_STORE_COMMENT_PAGE_REPLY = 1147;

    RATE_STORE = 1148;
    RATE_STORE_REPLY = 1149;

    STORE_COMMENT_CRUD = 1150;
    STORE_COMMENT_CRUD_REPLY = 1151;

    GET_STORE_WARNING_TYPE = 1152;
    GET_STORE_WARNING_TYPE_REPLY = 1153;

    WARN_STORE = 1154;
    WARN_STORE_REPLY = 1155;

    NOTIFICATION_RECEIVED_REPLY = 1156;

    GET_AGENT_INFO = 1157; // body : PhoneExist dgd lay thong tin cua customer truoc khi dinh danh
    GET_AGENT_INFO_RELY = 1158; // body : AgentInfo

    GIFT_CLAIM = 1159;
    GIFT_CLAIM_REPLY = 1160;

    GET_USER_SETTING = 1161;
    GET_USER_SETTTING_REPLY = 1162;

    SET_USER_SETTING = 1163;
    SET_USER_SETTING_REPLY = 1164;

    GET_GIFT_TYPE = 1165;
    GET_GIFT_TYPE_REPLY = 1166;

    GET_GIFT = 1167;
    GET_GIFT_REPLY = 1168;
    GET_GIFT_FINISH = 1169;

    SET_GIFT_STATUS = 1170;

    SEND_GIFT_MESSAGE = 1171;
    SEND_GIFT_MESSAGE_REPLY = 1172;
    FTP_INFO = 1173; // khong co body lay thong tin ftp
    FTP_INFO_REPLY = 1174; // body FtpReply

    CLEAR_ALL_NOTI = 1175;
    CLEAR_ALL_NOTI_REPLY = 1176;

    USE_GIFT = 1177; // GiftRequest
    USE_GIFT_REPLY = 1178; // standard body

    CAN_USE_GIFT = 1179; // GiftRequest
    CAN_USE_GIFT_REPLY = 1180; // standard body

    CHECK_BILL = 1181; //body  CheckBill
    CHECK_BILL_REPLY = 1182; // body StandardReply

    ADD_FIELD = 1183; // body Fields
    ADD_FIELD_REPLY = 1184; //body StandardReply

    GET_TRAN_CONFIRM_INFO = 1185; // tranhisv1
    GET_TRAN_CONFIRM_INFO_REPLY = 1186; //GetTranConfirmReply

    GET_FORM_FIELDS = 1187; // client lay danh sach cac fields cua 1 form/ 1 dich vu
    // body la Fields
    GET_FORM_FIELDS_REPLY = 1188; // tra ve lient danh sach cac fielditem cua dich vu nay de client ve form

    SUBMIT_FORM = 1189; // client gui toan bo thong tin collect tu user len server
    // body Fields

    SUBMIT_FORM_REPLY = 1190; // tra ket qua ve client
    //body FromReply
    GET_VALUE_FOR_DROPBOX = 1191; // body TextValue -->set vao id ; key id
    GET_VALUE_FOR_DROPBOX_REPLY = 1192; // body ValueForDropBox

    GET_CATEGORY = 1193;
    GET_CATEGORY_REPLY = 1194;

    TRANSLATE_CONFIRM_INFO = 1195;
    TRANSLATE_CONFIRM_INFO_REPLY = 1196;

    MUST_UPDATE_INFO = 1197;
    MUST_UPDATE_INFO_REPLY = 1198;

    DGD_GET_FEE = 1199; //body : Fields
    // key       value
    // trantype   TRANSFER_MONEY_TO_PLACE:13;M2M:6
    // amt        amount

    DGD_GET_FEE_REPLY = 1200; //body Fields
    //key       value
    //fee       feevalue

    GET_BALANCE = 1201; // body GetBalance
    //key       value
    //sid       ifpt

    GET_BALANCE_REPLY = 1202; //GetBalance
    //key     value
    //momo   tienmomo
    //vc      tien voucher
    //point   tien point
    //mload   tien mload

    GET_INFO_ALERT_TYPE = 1203; // lay loai man hinh
    GET_INFO_ALERT_TYPE_REPLY = 1204; // tra ket qua theo lasttime : list of InfoAlertType

    SUBMIT_INFO_ALERT = 1205; // client gui InfoAlert den server
    SUBMIT_INFO_ALERT_REPLY = 1206; // tra ket qua la StandardReply

    GET_C2C_INFO = 1207; // body GetC2cInfo
    GET_C2C_INFO_REPLY = 1208; // body GetC2cInfoReply

    GET_OTP_FOR_CLIENT = 1209; // body GetOptForClient
    GET_OTP_FOR_CLIENT_REPLY = 1210; // body StandardReply

    GET_LIQUIDITY = 1211;
    GET_LIQUIDITY_REPLY = 1212; //body TextValueMsg
    //key       value
    //caption   ""
    //content   ""

    GET_CARD_LIST = 1213;
    GET_CARD_LIST_REPLY = 1214;

    DELETE_TOKEN = 1215;
    DELETE_TOKEN_REPLY = 1216;

    CREATE_TOKEN = 1217;
    CREATE_TOKEN_REPLY = 1218;

    GET_CARD_TYPE = 1219; // body: TextValueMsg
    //key           value
    //partnercode   sbs
    //lasttime      lastime, default 0

    GET_CARD_TYPE_REPLY = 1220; //body ServiceReply
    /*optional string service_type    = 1;
    optional string partner_code    = 2;        --> partnercode
    optional string service_id      = 3;        --> cardtype
    optional string service_name    = 4;        --> desctiption
    optional string icon_url        = 6;        --> icon cardtype
    optional bool   has_check_debit    = 9;    --> enable
    optional uint64 last_update        =11;    -->lasttime
    */

    GET_FEE_BANK = 1221;

    GET_FEE_BANK_REPLY = 1222;

    CREATE_ORDER_CUNGMUA = 1223;
    CREATE_ORDER_CUNGMUA_REPLY = 1224;


    CONFIRM_WALLET_MAPPING = 1225; // Tra loi xem co xac nhan map vi hay khong.

    CONFIRM_WALLET_MAPPING_REPLY = 1226; // Tra loi xem co huy thanh cong hay khong.

    CHECK_USER_RESET_PASSWORD = 1227;

    CHECK_USER_RESET_PASSWORD_REPLY = 1228;

    RESET_PASSWORD = 1229;

    RESET_PASSWORD_REPLY = 1230;

    WALLET_MAP = 1231;

    WALLET_MAP_REPLY = 1232;

    ATM_WALLET_MAPPING = 1233;

    ATM_WALLET_MAPPING_REPLY = 1234;

    ATM_WALLET_UNMAPPING = 1235;

    ATM_WALLET_UNMAPPING_REPLY = 1236;

    SEND_EMAIL = 1237;

    SEND_EMAIL_REPLY = 1238;

    BUILD_URL_NAPAS = 1239;

    BUILD_URL_NAPAS_REPLY = 1240;

}

message TextValueMsg {
    repeated TextValue keys = 1;
    // key      value
    // cusnum   SDTKH
}

message FormReply {
    repeated TextValue list_info = 1; // danh sach cac thong tin server gui ve client de show khach hang
    //key dac biet :
    //key           value
    //cap           Xac nhan giao dich
    //btn           Dong y/ Xac nhan
    optional uint32 next = 2; //quy dinh co qua form ket tiep khong
    //1: qua form ke tiep; 0: dung
}

message FormField {
    repeated FieldItem list_field_item = 1; // danh sach cac field de ve len form
    repeated ValueForDropBox list_value = 2; // danh sach cac san pham dua vao dropbox
}

message ValueForDropBox {
    optional string link_to_drop_key = 1; //lien ket den dropbox nao cua form, la key cua dropbox do
    repeated TextValue list_value = 2;

}

message GetServiceByLastTime {
    optional uint64 last_time = 1;
}

message GetServiceByServiceId {
    optional string service_id = 1;
}

message WholeSystemPaused {
    optional string caption = 1;
    optional string body = 2;
}

//su dung de query dong form nhap lieu khi thanh toan hoa don
message GetServiceLayout {
    optional string service_id = 1; // dung de check no + lay danh sach cac fielditem
    optional string bill_id = 2; // dung de check no
    optional bool has_check_bill = 3; // co check no hay khong
    optional string service_type = 4; // loai dich vu invoice hay service de backend biet luu bill hay khong
    optional bool is_promo = 5; // quy dinh phan biet app cu/ app moi
}

message Invitee {
    optional string name = 1;
    optional string phone = 2;
    optional uint64 time = 3;
}

message InviteStatisticReply {
    repeated Invitee invitee_list = 1;
}

message TextValue {
    optional string text = 1;
    optional string value = 2;
    optional string id = 3; // id cua goi package tren server
}



message Service {
    /*
        service_type: invoice
                    : service
    */
    optional string service_type = 1; //loai dich vu --> hoa don / dich vu / phim....
}

message ServiceItem {
    //loai dich vu : hoadon/ dichvu/phim
    optional string service_type = 1; // loai dich vu --> hoa don / dich vu / phim....
    optional string partner_code = 2; // ma doi tac vi du : viettel
    optional string service_id = 3; // ma dich vu cua doi tac : vi du : iviettel, aviettel...
    optional string service_name = 4; // ten dich vu : ADSL Viettel, Dien...
    optional string partner_site = 5; // URL cua doi tac
    optional string icon_url = 6; // URL icon de hien thi tren client
    optional uint32 status = 7; // 1: on; 0 : off, dich vu on/off
    optional string text_popup = 8; // message de show khi dich vu off
    optional bool has_check_debit = 9; // dich vu nay co cho phep check cuoc hay khong : true/false
    optional string title_dialog = 10; // title cua dialog khi nhap ma
    optional uint64 last_update = 11; //thoi gian update sau cung cau dich vu
    optional string billid_type = 12; // phonenumber : client se list danh sach so dien thoai de chon; text nhap tu do
    optional bool is_promo = 13; // quy dinh dich vu nay la dich vu khuyen mai
    optional uint32 total_form = 14; //0: dung, 1 qua han man hinh get bill info
    optional uint32 star = 15; //quy dih so sao
    optional string category_name = 16; // ten phan loai nhom
    optional string category_id = 17; // ma phan loai nhom
    optional string web_payment_url = 18; // web Url dich vu
    optional string secret_key = 19; // web Url dich vu
    optional uint32 order = 20;
    optional string billpay_extra = 21;
}

message ServiceReply {
    repeated ServiceItem service_list = 1;
}

message FieldItem {
    optional string field_label = 1; // label nam ke input
    optional string field_type = 2; // loai field : text/drop/number/lable/date/cash/button/webview
    optional bool is_amount = 3; // true/false quy dinh field de client boc so tien gui len server
    optional bool is_bill_id = 4; // true/false quy dinh field de client boc ma hoa don gui len server
    optional string key = 5; // quy dinh key de client gui len server
    optional uint32 require = 6; // 0: khong bat buoc; 1: bat buoc
    optional uint32 has_child = 7; // 0 : khong co con, 1 co con, client request server lay danh sach item cho con
    optional uint32 line = 8; //control's line number
    optional bool readonly = 9; // true : chi doc, false : co the edit
    optional string value = 10; // gia tri de tra ve cho client
}

message ExtraInfo {

    optional string bill_detail_id = 1; //loai dich vu --> hoa don / dich vu / phim....
    optional string amount = 2; // ma doi tac vi du : viettel
    optional string from_date = 3; // ma dich vu cua doi tac : vi du : iviettel, aviettel...
    optional string to_date = 4; // ten dich vu : ADSL Viettel, Dien...

}

message GetServiceLayoutReply {
    //bat buoc phai co
    optional uint64 total_amount = 1;
    repeated FieldItem list_field = 2;

    //optional
    repeated TextValue array_price = 3; // danh sach cac menh gia co the tra
    repeated TextValue customer_info = 4; // chua thong tin khach hang
    repeated ExtraInfo extra_info = 5; // thong tin ho tro nguoi dung, vi du : chi tiet tung bill con cua dien
}

message Promotion {
    optional string id = 1;
    optional uint64 from_date = 2;
    optional uint64 to_date = 3;
    optional bool is_active = 4;
    optional string promotion_name = 6;
}

message GetPromotionReply {
    repeated Promotion promotion_list = 1;
}

message GetPromotionDetail {
    optional string id = 1;
}

message GetPromotionDetailReply {
    optional string intro_data = 1;
    optional string intro_sms = 2;
    optional uint32 duration = 3;
}

message MinMax {
    optional uint32 tran_type = 1;
    optional bool is_named = 2;
    optional uint64 min_value = 3;
    optional uint64 max_value = 4;
}

message MinMaxReply {
    repeated MinMax min_max_list = 1;
}

enum phim123 {
    CANCEL = 0;
    CONFIRM = 1;
}

message CreateOrder123Phim {
    optional uint64 session_id = 1; // suat chieu phim
    repeated string seat_list = 2; // danh sach ghe dat
    optional string device_id = 3; //android/ios
    optional string phone_number = 4;
    optional string email = 5;
}

message Seat {
    optional string seat = 1;
    optional uint32 price = 2;
}

message CreateOrder123PhimReply {
    optional string invoice_no = 1;
    optional string ticket_code = 2;
    optional uint64 total_amount = 3;
    repeated Seat seat_list = 4;
    optional uint32 rcode = 5; // 0: thanh cong; #0: that bai --> map ma loi show len khach hang
}

enum SystemError {
    SERVICE_IS_PAUSED = -10;
    ALL_OK = 0;
    MSG_FORMAT_NOT_CORRECT = 1;
    NOT_HELLO_YET = 2;
    NUMBER_NOT_VALID = 3;
    SYSTEM_ERROR = 4;
    NOT_SET_UP = 5;
    NUMBER_EXISTED = 6;
    OLD_PIN_NOT_CORRECT = 7;
    IS_BLOCKING = 8;
}

message StandardSync {
    optional uint64 last_update_time = 1;
    optional uint64 target_time = 2;
    optional uint64 batch_size = 3;
    optional uint64 batch_direction = 4;
}

message StandardReply {
    optional bool result = 1;
    optional string desc = 2;
    optional uint32 rcode = 3;
}

message BanketVerifyOtp {
    optional string merchant_trans_id = 1;
    optional string trans_id = 2;
    optional uint64 full_amount = 3;
    optional string otp = 4;
    optional uint64 fee_amount = 5;
}

message IdList {
    repeated uint64 ids = 1;
}

message BankOfBanknet {
    repeated string bank_id = 1;
    repeated string bank_name = 2;
}

message TranStatisticPerDayReply {
    optional uint32 total_count = 1; // tong so luong giao dich duoc phep trong ngay
    optional uint32 remain_count = 2; // so luong giao dich con lai
    optional uint64 total_amount = 3; // tong giao tri giao dich cua TK trong ngay
    optional uint64 max_amount = 4; // gia tri giao dich toi da cho phep
}

enum FeeType {
    MOMO = 0; // tinh phi qua momo
    CASH = 1; // tinh phi truc tiep bang tien mat khach hang dua cho thang dai ly
}

message GetFee {
    optional string bank_id = 1; // ngan hang nao
    optional uint32 tran_type = 2; // loai giao dich nao
    optional uint32 channel = 3; // qua kenh nao : banknet, onepay, smartlink
    optional uint32 io_city = 4; // trong, ngoai thanh pho
    optional uint64 amount = 5; // trong, ngoai thanh pho
}

message GetFeeReply {
    optional double dymanic_fee = 1;
    optional uint32 static_fee = 2;
    optional string bank_id = 3;
    optional uint32 tran_type = 4;
    optional uint32 channel = 5;
    optional uint32 io_city = 6;
    optional uint32 fee_type = 7; // loai bieu phi : 0 khong phi, 1 tien mat
}

message NewUser {
    optional uint32 new_number = 1;
    optional uint64 time = 2;
}

message TicketInfo {
    optional uint32 rcode = 1;
    optional string provider_id = 2;
    optional string bill_id = 3;
}

message RegStatus {
    optional bool is_setup = 1; //dang set up
    optional bool is_reged = 2; //dang ky
    optional bool is_active = 3; //kich hoat
    optional bool is_named = 4; //dinh danh
    optional bool is_frozen = 5;
    optional bool is_suppend = 6;
    optional bool is_stopped = 7;
}

message Hello {
    optional string imei = 1;
    optional string imei_key = 2;
    optional string session_key = 3;
    optional string device_os = 4;
    optional string device_key = 5;
}

message HelloReply {
    enum ResultCode {
        ALL_OK = 0;
        PHONE_NOT_CORRECT = 1;
        LOG_ON = 2;
        LOG_ON_ANOTHER_DEVICE = 3;
        NOT_LOG_ON = 4;

    }
    ;

    optional uint32 rcode = 1;
    optional string rdesc = 2;
    optional uint32 version_code = 3;
    optional string version_name = 4;
    optional RegStatus reg_status = 5;
}

message VerifyOtp {
    optional string otp = 1;
}

message VerifyOtpReply {
    enum ResultCode {
        ALL_OK = 0;
        WRONG_OTP = 1;
        TIME_OUT = 2;
    }
    optional bool result = 1; //ok or ko
    optional uint32 rcode = 2; //if not ok, this a result code
    optional string imei_key = 3; //if this ok, client must save this value
    optional RegStatus reg_status = 4;
}

message Register {
    optional string name = 1;
    optional string card_id = 2;
    optional string address = 3;
    optional string dob = 4;
    optional string pin = 5; // danh rieng cho khach hang, DGD khong dung vao duoc
    optional string email = 6;
    optional string question = 7;
    optional string answer = 8;
    optional string reference = 9;
    repeated TextValue keyValue = 10;
    //text         value
    //"isnamed"  :"1" --> DGD dinh danh vi cho khach hang
    //"cusnum"   :"0974540385" -->vi DGD muon dinh danh
    //"dgd"      :"0" use thuong , "1" DGD

    //dis        :maquanhuyen BELL ten quanhuyen
    //ci         :matp BELL ten thanh pho
    //img        :path img1 BELL img2.....
}



message LogIn {
    optional string mpin = 1;
    optional string device_model = 2;
    optional string agent_type = 3; // "0" : END-USER, "1" DGD ....
    optional string appVer = 4;
    optional string codeVer = 5;
}

//phone | imei | mpin
message LogInReply {
    enum ResultCode {
        ALL_OK = 0;
        PIN_INVALID = 1014;
        SYSTEM_ERROR = 2;
        AUTH_RETRY_EXCEED = 1012;
        AUTH_EXPIRED = 1013;
        NOT_SETUP = 4;
        TEMP_LOCK = 5;
        AGENT_NOT_FOUND = 40000; // tai khoan cua ban khong phai la cua dai ly. Vui long lien he voi CSKH de duoc ho tro
        AGENT_CANCELLED = 40001; // DGD da bi huy tren he thong

    }
    optional bool result = 1; //ok or ko
    optional uint32 rcode = 2; //if not ok, this a result code
    optional string skey = 3;
    optional uint64 time = 4;
    optional uint32 login_remain_count = 5;
    optional uint64 locked_until = 6;
}

enum GetBillInfoAction {
    SYNC = 1;
    GET_ONE = 2;
    GET_SAVED = 3;
}

message GetBillInfo {
    optional string provider_id = 1;
    optional string bill_id = 2;
    optional int32 getBillInfoAction = 3;
}

message BillDetail {
    optional string bill_id = 1;
    optional uint64 amount = 2;
    optional string from_date = 3;
    optional string to_date = 4;
}

message GetBillInfoReply {
    enum ResultCode {
        ALL_OK = 0;
        WRONG_ACCOUNT_ID = 1;
        WRONG_AMOUNT = 2;
        SYSTEM_ERROR = 3;
    }
    optional bool result = 1; //ok or ko
    optional uint32 rcode = 2;
    optional string rdesc = 3;
    optional string name = 4;
    optional string phone = 5;
    optional string address = 6;
    repeated BillDetail bills = 7;
    optional GetBillInfoAction action = 8;
    optional string providerId = 9;
    optional string billId = 10;
}

message ChangePin {
    optional string new_pin = 1;
    optional string old_pin = 2;
}

message WhoIsMomoer {
    repeated uint32 numbers = 1;
}

message ViewPaymentHistoryByBillId {
    optional string billId = 1;
}

message ViewPaymentHistoryByBillIdReply {

    optional bool result = 1;
    optional string rcode = 2;
    optional string payment_history = 3;
}

/*message BillSync {
    enum SyncType {
        INS = 1;
        DEL = 2;
        GET = 3;
    }

    enum PayChanel{
        BILL    = 0;
        OTHER   = 1;
    }

    optional uint32 type        = 1;
    optional string providerId  = 2;
    optional string billId      = 3;
    optional string billDetail  = 4;
    optional uint32 status      = 5;
    optional string ownerName   = 6;
    optional string ownerAddress    = 7;
    optional string ownerPhone      = 8;
    optional uint64 totalAmount     = 9;
    optional uint32 payType         = 10;
    optional uint32 transferType    = 11;
    optional string payScheduler    = 12;
    optional uint64 dueDate         = 13;
    optional uint32 payChanel       = 14;
}

message BillSyncReply {
    optional bool   result = 1;
    repeated BillSync bills  = 2;
}*/

message DeviceInfo {
    optional string deviceName = 1;
    optional string deviceVersion = 2;
    optional string deviceModel = 3;
    optional string deviceManufacturer = 4;
    optional string appVersion = 5;
    optional string deviceSWidth = 6;
    optional string deviceSHeight = 7;
    optional string devicePrimaryEmail = 8;
    optional string os = 9;
    optional string token = 10;
}

message GetAccessHistory {
    optional uint32 page_num = 1;
    optional uint32 page_size = 2;
}

message AccessHistoryDetail {
    optional string ip = 1;
    optional uint64 time_in = 2;
    optional uint64 time_out = 3;
    optional string device_model = 4;
}

message GetAccessHistoryReply {
    optional bool result = 1;
    repeated AccessHistoryDetail access_detail = 2;
}

message StoreInfo {
    optional string owner = 1; //:"Phạm Hồng Lý",
    optional string phone = 2; //:"0977463763",
    optional string name = 3; //:"Cửa Hàng ĐTDĐ Hồng Lý",
    optional string add = 4; //:"9 Khu 2",
    optional string street = 5; //:"9 Khu 2",
    optional string ward = 6; //:"9 Khu 2",
    optional uint32 did = 7; //: "Huyện:  Bến Lức",
    optional uint32 cid = 8; //: "Long An",
    optional uint32 aid = 9; //: "7 Đồng Bằng Sông Cửu Long"},
    optional uint64 last_update_time = 10;
    optional bool deleted = 11; // inform to client to delete this row on local client DB
    optional uint32 rowCoreId = 12; // identity from core return to server
    optional double lng = 13;
    optional double lat = 14;
    optional string momo_number = 15;

}

message SyncStoreLocationReply {
    optional bool result = 1;
    repeated StoreInfo stores = 2;
}

message PhoneExist {
    optional string number = 1;
}

message AgentInfo {
    optional bool result = 1;
    optional string name = 2;
    optional string cardId = 3;
    optional string address = 4;
    optional string dateOfBirth = 5;
    optional uint64 point = 6;
    optional uint64 momo = 7;
    optional uint64 mload = 8;
    optional RegStatus regStatus = 9;
    optional string bank_name = 10;
    optional string bank_account = 11;
    optional string bank_code = 12;

    optional string email = 13;
    optional uint32 noname_count = 14;
    optional bool in_promotion = 15;
    optional bool exist = 16; //DGD dinh danh vi cho khach hang
    repeated TextValue list_key_value = 17;
    //key   value
    //dgd   "1": "0" khong phai DGD
    //referal : STD nguoi GT

}

message BankNetToMomoRely {
    optional bool result = 1;
    optional uint32 rcode = 2;
    optional string merchant_trans_id = 3;
    optional string trans_id = 4;
}

message MoneyRequest {
    optional uint32 to_number = 1;
    optional uint64 amount = 2;
    optional string content = 3;
    optional uint32 from_number = 4;
    optional string from_name = 5;
}

message TranHisV1 {
    enum TranType {
        BANK_IN = 1; // nap tien tu ngan hang lien ket ve
        BANK_OUT = 2;
        TOP_UP = 3;
        TOP_UP_GAME = 4;
        M2C = 5;
        M2M = 6;
        PAY_ONE_BILL = 7; //thanh toan hoa don
        QUICK_PAYMENT = 8;
        QUICK_DEPOSIT = 9;
        BANK_NET_TO_MOMO = 10;
        BANK_NET_VERIFY_OTP = 11;
        PAY_ONE_BILL_OTHER = 12; // chuyen tien cho thang khac
        TRANSFER_MONEY_TO_PLACE = 13; //rut tien tai diem giao dich

        //for app sms
        BILL_PAY_TELEPHONE = 14; // THANH TOAN CUOC DIEN THOAI
        BILL_PAY_TICKET_AIRLINE = 15; // THANH TOAN VE MAY BAY
        BILL_PAY_TICKET_TRAIN = 16; // THANH TOAN VE TAU LUA
        BILL_PAY_INSURANCE = 17; // THANH TOAN TIEN BAO HIEM
        BILL_PAY_INTERNET = 18; // THANH TOAN CUOC INTERNET
        BILL_PAY_OTHER = 19; // THANH TOAN CAC LOAI HOA DON KHAC

        DEPOSIT_CASH_OTHER = 20; // NAP TIEN KHAC
        BUY_MOBILITY_CARD = 21; // MUA THE CAO
        BUY_GAME_CARD = 22; // MUA THE GAME
        BUY_OTHER = 23; // MUA KHAC

        //for transfer
        DEPOSIT_CASH = 24;
        BILL_PAY_CINEMA = 25;
        MOMO_TO_BANK_MANUAL = 26; //chuyen tien tu Momo ve ngan hang khong lien ket

        DEPOSIT_AT_HOME = 27; //nap tien tan noi, ghi nhan yeu cau
        WITHDRAW_AT_HOME = 28; //rut tien tan noi, ghi nhan yeu cau
        BONUS = 29; // tien hoa hong
        FEE = 30; // phi giao dich
        PHIM123 = 31; // 123 phim


        PAY_NUOCCL_BILL = 32; // thanh toan nuoc cho lon
        PAY_AVG_BILL = 33; // thanh toan truyen hinh an vien
        PAY_ONE_BILL_SERVICE = 34; //thanh toan hoa don loai dich vu

        BUY_GIFT = 35; // mua voucher
        SEND_GIFT = 36; // tang voucher

        GIFT_TO_MPOINT = 37; // quy doi voucher qua point
        GIFT_RECEIVE = 38; // nhan voucher

        //dinh nghia them 1 so loai giao dich
        NAMED = 39; //dgd dinh danh vi cho nguoi dung
        PAY_BACK = 40; // giao dich hoan tien
        PROMOTION = 41; // giao dich khuyen mai
        VOUCHER = 42; // giao dich voucher
        POINT = 43; // giao dich point

        GIFT_CLAIM = 44;
        MPOINT_CLAIM = 45;
        C2C = 46; // diem giao dich gui tien
        C2C_RECEIVE = 47; //diem giao dich nhan tien

        C2C_BONUS_SEND = 48; // giao dich hoa hong gui tien C2C(khach hang den gui tien agent A, A nhan duoc tien nay)
        C2C_BONUS_RECEIVE = 49; // giao dich hoa hong nhan tien C2C(khach hang den nhan tien agent B, B nhan duoc tien nay)

        VM_PROCESS_CASH_IN = 50; // giao dich chuyen tien tu the visa master card.

        BONUS_DGD = 51;

        BONUS_300 = 52;

        PAY_ONE_SALE_OFF_BILL = 53;

        TRANSFER_ONE_BILL = 54; //Thanh toan theo luong moi

        PAY_SDK_BILL = 55;

        PAY_IPOS_BILL = 56;

        ATM_CASH_IN = 57;

        ATM_CASH_IN_REPLY = 58;

        ATM_CASH_OUT = 59;

        ATM_CASH_OUT_REPLY = 60;

    }

    enum ResultCode {
        SYSTEM_ERROR = -1;
        ALL_OK = 0;
        PARTNER_NUMBER_NOT_VALID = -2;
        SESSION_EXPIRED = -3;
        NOT_SUPPORT = -4;

        NO_SUCH_GIFT = -6;
        GIFT_TYPE_NOT_ACTIVE = -7;
        WRONG_PRICE_AMOUNT = -8;
        ALREADY_OWNED = -9;
        NOT_TRANSFERABLE = -11;
        CUSTOM_ERROR = 1000000; // loi dac biet, quy dinh app lay desc trong tranHisV1 de show cho khach hang
        NOT_OWNED = -13;
    }

    enum SourceFrom {
        MOMO = 1; // qua momo
        BANKLINKED = 2;
        MASTERCARD = 3;
        VISA = 4;
        BANK_NET_2_VERIFY_OTP = 5;
        PAY123 = 6; // nguon tu 123pay
    }

    optional uint64 tranId = 1; // return from core doing transaction, cTID
    optional uint64 client_time = 2; // time at calling webservice
    optional uint64 ackTime = 3; // ack time from server to client
    optional uint64 finishTime = 4; // the time that server response result.
    optional uint32 tranType = 5; //ex : MomoProto.MsgType.BANK_IN_VALUE
    optional uint32 io = 6; // direction of transaction.
    optional uint32 category = 7; // type of transfer, chuyen tien ve que, cho vay, khac
    optional string partnerId = 8; // ban hang cua minh : providerId ..
    optional string partnerCode = 9; // ma doi tac
    optional string partnerName = 10; // ten doi tac
    optional string partner_ref = 11;
    optional string billId = 12; // for invoice, billID
    optional uint64 amount = 13; // gia tri giao dich
    optional string comment = 14; // ghi chu
    optional uint32 status = 15; // trang thai giao dich
    optional uint32 error = 16; // ma loi giao dich
    optional uint64 command_Ind = 17; // command index
    optional uint32 source_from = 18; // tu nguon nao
    optional string partner_extra_1 = 19;
    repeated TextValue kvp = 20;
    optional string desc = 21; // mo ta loi tra ve

    // text     key
    // "cusnum" 0974541201 -->so dien thoai cua khach hang
    // '"dgd"   "1"

    //tra thong tin ve client
    //key           value
    //qrcode        chuoi cac ky tu de app ve QRCODE
    //html          format html tra ve cho khach hang
    optional string share = 22;

}

message CardItem {
    enum LockedType {
        FULL = 1;
        PART = 2;
        BANKLINKED = 3;
    }
    enum Channel {
        BANKNET = 1;
        ONEPAY = 2;
        SMARTLINK = 3;
        MANUAL = 4;
    }
    enum IOCity {
        OUT = 0;
        IN = 1;
    }

    optional string card_holder_year = 1;
    optional string card_holder_month = 2;
    optional string card_holder_number = 3;
    optional string card_holder_name = 4;
    optional string bankId = 5;
    optional uint64 amount = 6;
    optional uint32 locked_type = 7;
    optional uint32 bank_type = 8; // banknet, visa, master
    optional string bank_name = 9;
    optional uint32 row_id = 10;
    optional uint64 last_sync_time = 11;
    optional uint32 status = 12;
    optional uint32 channel = 13;
    optional uint32 io_city = 14;
    optional uint32 tran_type = 15;
    optional string cardId = 16;
    optional string cardType = 17;
}

message CardAddOrUpdate {
    repeated CardItem card_list = 1;
}

message CardAddOrUpdateReply {
    repeated CardItem bank_net_to_momo_list = 1;
}

message CardSyncFirstTimeReply {
    repeated CardItem CardList = 1;
}

message TranHisSyncReply {
    optional bool result = 1;
    repeated TranHisV1 TranList = 2;
}

message Bill {
    optional string providerId = 1;
    optional string billId = 2;
}

message RemoveSavedBill {
    repeated Bill bills = 1;
}

message RemoveSavedBillReply {
    enum Result {
        SUCCESS = 1;
        FAIL = 2;
    }
    optional Result result = 1;
}

enum NotificationType {
    NOTI_DETAIL = 0; //  Màn hình Xem chi tiết Noti
    NOTI_TRANSACTION = 1; //    Màn hình Xem chi tiết LSGD
    NOTI_NEW_MOMOER = 2; //  Màn hình Xem chi tiết Noti
    NOTI_ADVERTISE = 3; // Màn hình Xem chi tiết Noti
    NOTI_MONEY_REQUEST = 4; //  Popup confirm Đồng Ý Mượn tiền
    NOTI_UPDATE_INFO = 5; //  Màn hình cập nhật thông tin cá nhân
    NOTI_NOTICE = 6; //  Màn hình Thông báo
    NOTI_DEPOSIT_WITHDRAW_AT_PLACE = 7; //Màn hình Nạp tiền tận nơi
    NOTI_GENERIC = 8;
    NOTI_STUDENT = 9; //  fix lại " Màn hình Dịch Vụ ;    Giới thiệu bạn bè "

    NOTI_123PHIM = 10; // button: Mua ngay, Xem ngay,...
    NOTI_PAY_ONE_BILL = 11; //  Màn hình Thanh toán Hóa đơn, button: Thanh toán ngay,...
    NOTI_SERVICE_ONE_BILL = 12; //  Màn hình Thanh toán Dịch vụ, button: Thanh toán ngay,...
    NOTI_QR_CODE = 13; //  Màn hình QR Code, button: Thanh toán ngay,...
    NOTI_CASH_MONEY = 14; // Màn hình NẠP tiền, button: Thanh toán ngay,...
    NOTI_WITHDRAW_MONEY = 15; //  Màn hình RÚT tiền, button: Thanh toán ngay,...
    NOTI_FIND_LOCATION = 16; //  Màn hình tìm điểm Giao dịch,...
    NOTI_BORROW_MONEY = 17; //  Màn hình tìm MƯỢN TIÊN,...

    NOTI_LIXI_VIEW = 18; // Màn hình LÌ XÌ,...
    NOTI_LIXI_CREATE = 19; //   Màn hình LÌ XÌ,...
    NOTI_VOUCHER_VIEW = 20; //  Màn hình XEM VOUCHER,...
    NOTI_VOUCHER_CREATE = 21; //  Màn hình TẠO VOUCHER,.....
    NOTI_TOPUP = 22; //    Màn hinh Topup
    NOTI_TRANSFER = 23; // Màn hinh chuyển tiền

    NOTI_GIFT_RECEIVE = 24;
    NOTI_GIFT_REPLY = 25;

    NOTI_MAP_WALLET = 26; // man hinh huong dan map vi VCB

    REMIND_EXPIRED = 27; // thong bao noti chuan bi het han

    POPUP_INFORMATION = 28; //Popup hien thong tin + tieu de voi button.

}

enum NotiCategory {
    SYSTEM = 0;
    ADVERT = 1;
}

message Notification {
    optional string id = 1;
    optional uint32 priority = 2;
    optional uint32 type = 3;
    optional string caption = 4;
    optional string body = 5;
    optional uint64 tranId = 6;
    optional uint64 cmdId = 7;
    optional uint64 time = 8;
    optional uint32 sender = 9;
    optional uint32 status = 10;
    optional uint32 tranHisType = 11;
    optional string refId = 12;
    optional string btnTitle = 13;
    optional uint32 btnStatus = 14;
    optional string htmlBody = 15;
    optional string extra = 16;
    optional uint32 category = 17;
}

message UpdateNotificationsStatus {
    repeated Notification notifications = 1;
    optional uint32 flag = 2; // response this flag back to client
}

message UpdateNotificationsStatusReply {
    repeated Notification notifications = 1;
    optional uint32 flag = 2;
}

message NotificationSyncReply {
    repeated Notification notifications = 1;
}

message NotificationNew {
    optional Notification notification = 1;
}

message NotificationReceived {
    optional string notificationId = 1; // app cũ
    repeated Notification noti = 2; //app mới
}

message GetNotification {
    optional string notiId = 1;
}

message GetNotificationReply {
    optional Notification noti = 1;
}

message Avatar {
    optional string byte_string = 1;
}

message AvatarReply {
    optional bool result = 1;
}

message AvatarUploadReply {
    optional string token = 1;
}

enum DynamicConfigName {
    DEPOSIT_AT_HOME_STATUS = 1;
    WITHDRAW_AT_HOME_STATUS = 2;

    VISA_MASTER_STATUS = 3;
    ATM_STATUS = 4;
}

enum DynamicConfigValue {
    STATUS_ACTIVE = 1;
    STATUS_INACTIVE = 2;
}

message GetDynamicConfig {
    optional string name = 1;
}

message GetDynamicConfigReply {
    optional string name = 1;
    optional string value = 2;
}

message GetSmartLinkUrl {
    required uint64 amount = 1;
}

message GetSmartLinkUrlReply {
    required string url = 1;
}

// ========================================= STORES RATING =======================================

message StoreRateInfo {
    required int32 storeId = 1;
    required int32 s1 = 2;
    required int32 s2 = 3;
    required int32 s3 = 4;
    required int32 s4 = 5;
    required int32 s5 = 6;
}

message GetStoreRate {
    repeated int32 storeIds = 1;
}

message GetStoreRateReply {
    repeated StoreRateInfo rateInfos = 1;
}

message StoreComment {
    enum CommentStatus {
        STATUS_NEW = 0;
        STATUS_ACCEPTED = 1;
        STATUS_REJECTED = 2;
    }
    required string commentId = 1;
    required int32 storeId = 2;
    required int32 commenterPhone = 3;
    required string commenterName = 4;
    required string content = 5;
    required int64 date = 6;
    required int32 rateStar = 7;
    required int32 status = 8;
}

message GetStoreCommentPage {
    required int32 storeId = 1;
    required int32 commenterPhone = 2; // set 0 to getAll
    required int64 lowestTime = 3;
}

message GetStoreCommentPageReply {
    //    required int32 maxPageNumber = 1;
    repeated StoreComment comments = 3;
}

message StoreCommentCrud {
    enum CrudCmd {
        CMD_CREATE = 1;
        CMD_READ = 2;
        CMD_UPDATE = 3;
        CMD_DELETE = 4;
    }
    required int32 cmd = 1; // [create, read, update ,remove]
    required StoreComment comment = 2;
}

message StoreCommentCrudReply {
    required int32 error = 1;
    required string desc = 2;
    required string commentId = 3; //created comment id.
}

message StoreWarningType {
    required int32 id = 1;
    required string name = 2;
}

message GetStoreWarningType {
}

message GetStoreWarningTypeReply {
    repeated StoreWarningType types = 1;
}

message WarnStore {
    required int32 storeId = 1;
    //    required string content = 2;
    required int32 warningType = 3;
}

message WarnStoreReply {
    required int32 error = 1;
    required string desc = 2;
}


message GiftType {
    enum Status {
        ACTIVE = 1;
        INACTIVE = 2;
        DELETED = 3;
        TIMED = 4;
    }
    optional string id = 1;
    optional string serviceId = 2;
    optional string name = 3;
    optional string desc = 4;
    optional string icon = 5;
    optional string image = 6;
    optional bool transfer = 7;
    optional uint32 status = 8; //ACTIVE|INACTIVE|DELETED
    optional uint64 modifyDate = 9;
    optional bool isNew = 10;
    repeated int64 price = 11;
    optional string policy = 12;
}

message Gift {
    enum Status {
        NEW = 1;
        VIEWED = 2;
        USED = 3;
        TIMED = 4;
    }
    optional string id = 1;
    optional string code = 2;
    optional uint64 amount = 3;
    //    optional int32 phone = 4;  //owner
    optional string desc = 5;
    optional string typeId = 6;
    optional uint64 startDate = 7;
    optional uint64 endDate = 8;
    optional uint64 modifyDate = 9;
    optional int32 status = 10;
    optional string extra = 11;
}

message GiftClaim {
    required string code = 1;
}

message GiftClaimReply {
    required int32 error = 1;
    optional int64 point = 2;
    optional Gift gift = 3;
}

//message GetSetting {
//    optional bool useMpoint = 1;
//}
message UserSetting {
    optional bool useMpoint = 1;
    // define more setting here and add its into UserSetting.java
}
// reply StandardReply

message GetGiftType {
    optional uint64 time = 1;
    optional string giftTypeId = 2; // set empty or null to find by time
}

message GetGiftTypeReply {
    repeated GiftType giftType = 1;
}

message GetGift {
    optional string giftId = 1;
}

message GetGiftReply {
    optional int32 index = 1;
    repeated Gift gift = 2;
}

message SetGiftStatus {
    optional string giftId = 1;
}

message SendMessage {

    enum Type {
        MONEY_THANKS = 1;
        GIFT_THANKS = 2;
    }

    optional int32 toPhone = 1;
    optional int64 tranId = 2;
    optional string senderName = 3;
    optional string msg = 4;
    optional int32 type = 5;
}

message GiftRequest {
    optional string giftId = 1;
    optional string serviceId = 2;
}

message GetTranConfirmReply {
    optional int64 point = 3;
    optional int64 momo = 4;
    optional int64 gift = 5;
}

message InfoAlertType {

    optional string id = 1;
    optional string desc = 2;
    optional uint32 status = 3;
    optional uint64 last_time = 4;

    enum Status {
        ACTIVE = 1;
        INACTIVE = 2;
        DELETED = 3;
    }
}

message GetAlertType {
    optional uint64 last_time = 1;
}

message GetAlertTypeReply {
    repeated InfoAlertType alert_types = 1;
}

message InfoAlert {
    optional string alert_id = 1; // id cua loai loai man hinh loi
    optional uint32 type = 2; // 1 : gop y chung, 2 thong bao man hinh loi
    optional string desc = 3; // mo ta loi
    repeated string images = 4; // danh sach cac duong dan hinh anh
    optional string os = 5; // ios , android, win...
}

// ========================================= END STORES RATING =======================================