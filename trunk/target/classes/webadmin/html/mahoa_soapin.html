<html>
<head>
    <title>Ma hoa Soap In</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="/css/mask.css" rel="stylesheet" type="text/css"/>
    <link href="/css/mycss.css" rel="stylesheet" type="text/css"/>
    <script src="/js/jquery.1.9.js"></script>
    <script src="/js/session.js"></script>
    <script src="/js/cookie.js"></script>
    <script type="text/javascript" src="/js/mask.js"></script>
    <script type="text/javascript" src="/js/myjs.js"></script>
</head>
<body>
<div id="mydiv">
    <h2>Ma hoa Soap In</h2>

    <div style="float:left">
        <!--<b>Partner Code</b>: <input type="text" style="border:1px solid #778899; width:150px" name="sServiceId" id="sServiceId">-->
        <b>User Name</b>: <input type="text" style="border:1px solid #778899; width:150px" name="username"
                              id="username">
        <b>User Name encrypt:</b>
        <input type="text" style="border:1px solid #778899; width:150px" name="username_encrypted"
               id="username_encrypted">
    </div>

    <div style="float:left">
        <!--<b>Partner Code</b>: <input type="text" style="border:1px solid #778899; width:150px" name="sServiceId" id="sServiceId">-->
        <b>Password</b>: <input type="text" style="border:1px solid #778899; width:150px" name="password"
                                 id="password">
        <b>Password encrypt</b>
        <input type="text" style="border:1px solid #778899; width:150px" name="password_encrypted"
               id="password_encrypted">
    </div>

    <td>
        <input style="width: 100px; font-size:16px; padding: 3px" type="button" value="Encrypt"
               id="button_encrypt"/>
    </td>

    <td>
        <input style="width: 100px; font-size:16px; padding: 3px" type="button" value="Decrypt"
               id="button_decrypt"/>
    </td>
    <div class="clear"></div>

    <div id="table"></div>

    <div class="clear"></div>

</div>
<script type="text/javascript">

    $(document).ready(function () {

            });

    $('#button_encrypt').click(function () {
            init_encrypt();
    });

    $('#button_decrypt').click(function () {
            init_decrypt();
    });

    function init_encrypt() {
         $.ajax({
            url: "/encryptsoapin",
            type: "GET",
            data: {
                username: $("#username").val(),
                password: $("#password").val()
            },
            success: function (string) {
                    $('#mydiv').unmask();
                    var error = string["error"];
                    var username_encrypted = string["username_encrypted"];
                    var password_encrypted = string["password_encrypted"];
                    if (error == 0) {
                        alert("Thành công.");
                        $("#username_encrypted").val(username_encrypted);
                        $("#password_encrypted").val(password_encrypted);
                        }
            },
            error: function () {
                alert('Có lỗi kết nối xảy rsa');
            }
        });
    }

    function init_decrypt() {
         $.ajax({
            url: "/decryptsoapin",
            type: "GET",
            data: {
                username: $("#username").val(),
                password: $("#password").val()
            },
            success: function (string) {
                    $('#mydiv').unmask();
                    var error = string["error"];
                    var username_encrypted = string["username_encrypted"];
                    var password_encrypted = string["password_encrypted"];
                    if (error == 0) {
                        alert("Thành công.");
                        $("#username_encrypted").val(username_encrypted);
                        $("#password_encrypted").val(password_encrypted);
                        }
            },
            error: function () {
                alert('Có lỗi kết nối xảy rsa');
            }
        });
    }


</script>
</body>
</html>